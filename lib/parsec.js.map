{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 6923257709762185bd35","webpack:///./src/index.js","webpack:///./src/atom.js","webpack:///./src/parsec.js","webpack:///./src/model.js","webpack:///./src/combinator.js","webpack:///./src/state.js","webpack:///./src/text.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;KCrCY,IAAI;;;;KACJ,UAAU;;;;;;;;KAEV,MAAM;;;;KACN,KAAK;;;;KACL,IAAI;;;;;;;;KAGK,QAAQ;AAE5B,WAFoB,QAAQ,GAEd;yBAFM,QAAQ;;AAG3B,OAAI,CAAC,KAAK,GAAG,UAAU,CAAC;AACxB,OAAI,CAAC,OAAO,GAAG,MAAM,CAAC;AACtB,OAAI,CAAC,MAAM,GAAG,KAAK,CAAC;AACpB,OAAI,CAAC,KAAK,GAAG,IAAI,CAAC;AAClB,OAAI,CAAC,WAAW,GAAG,UAAU,CAAC;AAC9B,OAAI,CAAC,KAAK,GAAG,IAAI,CAAC;GAClB;;eATmB,QAAQ;;4BAcpB;AACP,WAAO,IAAI,CAAC,OAAO,CAAC;IACpB;;;2BAEM;AACN,WAAO,IAAI,CAAC,MAAM,CAAC;IACnB;;;0BAEK;AACL,WAAO,IAAI,CAAC,KAAK,CAAC;IAClB;;;yBAEK,GAAG,EAAC;AACT,WAAO,oBAAW,GAAG,CAAC,CAAC;IACvB;;;gCAEW;AACX,WAAO,IAAI,CAAC,WAAW,CAAC;IACxB;;;0BAEK;AACL,WAAO,IAAI,CAAC,KAAK,CAAC;IAClB;;;uBA1BU;AACV,WAAO,IAAI,CAAC,KAAK,CAAC;IAClB;;;SAZmB,QAAQ;;;mBAAR,QAAQ;;;;;;;;;ACT7B,KAAI,MAAM,GAAG,mBAAO,CAAC,CAAa,CAAC,CAAC;AACpC,KAAI,MAAM,GAAG,mBAAO,CAAC,CAAY,CAAC,CAAC,MAAM,CAAC;AAC1C,KAAI,GAAG,GAAG,SAAN,GAAG,GAAc;AACjB,SAAI,GAAG,GAAG,SAAN,GAAG,CAAY,KAAK,EAAC;AACrB,aAAI,MAAM,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC;AAC1B,aAAI,MAAM,YAAY,KAAK,EACvB,MAAM,IAAI,CAAC,KACV;AACD,oBAAO,IAAI,MAAM,CAAC,MAAM,CAAC,CAAC;UAC7B;MACJ,CAAC;AACF,WAAM,CAAC,GAAG,CAAC,CAAC;AACZ,YAAO,GAAG,CAAC;EACd,CAAC;;AAGF,KAAI,EAAE,GAAG,SAAL,EAAE,CAAY,CAAC,EAAE;AACjB,SAAI,GAAG,GAAG,SAAN,GAAG,CAAY,KAAK,EAAC;AACrB,aAAI,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE;AACpB,oBAAO,CAAC,CAAC;UACZ,MAAK;AACF,iBAAI,GAAG,GAAG,KAAK,CAAC,yBAAyB,GAAG,CAAC,CAAC,CAAC;AAC/C,gBAAG,CAAC,GAAG,GAAG,KAAK,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;AAC1B,mBAAM,GAAG,CAAC;UACb;MACJ;AACD,WAAM,CAAC,GAAG,CAAC,CAAC;AACZ,YAAO,GAAG,CAAC;EACd,CAAC;;AAIF,KAAI,EAAE,GAAG,SAAL,EAAE,CAAY,CAAC,EAAE;AACjB,SAAI,GAAG,GAAG,SAAN,GAAG,CAAY,KAAK,EAAC;AACrB,aAAI,IAAI,GAAG,KAAK,CAAC,IAAI,EAAE;AACvB,aAAI,IAAI,KAAK,CAAC,EAAE;AACZ,iBAAI,GAAG,GAAG,KAAK,CAAC,6BAA6B,GAAG,CAAC,CAAC,CAAC;AACnD,gBAAG,CAAC,GAAG,GAAG,KAAK,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;AAC1B,mBAAM,GAAG,CAAC;UACb,MAAI;AACD,oBAAO,IAAI;UACd;MACJ,CAAC;AACF,WAAM,CAAC,GAAG,CAAC,CAAC;AACZ,YAAO,GAAG,CAAC;EACd,CAAC;;AAEF,KAAI,KAAK,GAAG,SAAR,KAAK,GAAc;AACnB,SAAI,MAAM,GAAG,SAAS,CAAC;AACvB,SAAI,GAAG,GAAG,SAAN,GAAG,CAAY,KAAK,EAAC;AACrB,aAAI,IAAI,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC;AACxB,cAAI,IAAI,KAAK,IAAI,MAAM,EAAC;AACpB,iBAAI,MAAM,CAAC,KAAK,CAAC,KAAK,IAAI,EAAE;AACxB,wBAAO,IAAI,CAAC;cACf;UACJ;AACD,aAAI,GAAG,GAAG,KAAK,CAAC,eAAe,GAAG,MAAM,CAAC,CAAC;AAC1C,YAAG,CAAC,GAAG,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;AACtB,eAAM,GAAG,CAAC;MACb,CAAC;AACF,WAAM,CAAC,GAAG,CAAC,CAAC;AACZ,YAAO,GAAG,CAAC;EACd,CAAC;;AAIF,KAAI,MAAM,GAAG,SAAT,MAAM,GAAc;AACpB,SAAI,MAAM,GAAG,SAAS,CAAC;AACvB,SAAI,GAAG,GAAG,SAAN,GAAG,CAAY,KAAK,EAAC;AACrB,aAAI,IAAI,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC;AACxB,cAAI,IAAI,KAAK,IAAI,MAAM,EAAC;AACpB,iBAAI,MAAM,CAAC,KAAK,CAAC,KAAK,IAAI,EAAE;AACxB,qBAAI,GAAG,GAAG,KAAK,CAAC,iBAAiB,GAAG,MAAM,CAAC,CAAC;AAC5C,oBAAG,CAAC,GAAG,GAAG,KAAK,CAAC,GAAG,CAAC;AACpB,uBAAM,GAAG,CAAC;cACb;UACJ;AACD,gBAAO,IAAI,CAAC;MACf,CAAC;AACF,WAAM,CAAC,GAAG,CAAC,CAAC;AACZ,YAAO,GAAG,CAAC;EACd,CAAC;;AAEF,KAAI,IAAI,GAAG,SAAP,IAAI,CAAY,OAAO,EAAE;AACzB,SAAI,GAAG,GAAG,SAAN,GAAG,GAAc;AACjB,gBAAO,OAAO,CAAC;MAClB,CAAC;AACF,WAAM,CAAC,GAAG,CAAC,CAAC;AACZ,YAAO,GAAG,CAAC;EACd,CAAC;;AAEF,KAAI,IAAI,GAAG,SAAP,IAAI,CAAY,WAAW,EAAE;AAC7B,SAAI,GAAG,GAAG,SAAN,GAAG,CAAY,KAAK,EAAC;AACrB,aAAI,GAAG,GAAG,KAAK,CAAC,WAAW,CAAC,CAAC;AAC7B,YAAG,CAAC,GAAG,GAAG,KAAK,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;AAC1B,eAAM,GAAG,CAAC;MACb;AACD,WAAM,CAAC,GAAG,CAAC,CAAC;AACZ,YAAO,GAAG,CAAC;EACd;;;;;;;;AAcD,QAAO,CAAC,GAAG,GAAG,GAAG,CAAC;AAClB,QAAO,CAAC,KAAK,GAAG,KAAK,CAAC;AACtB,QAAO,CAAC,EAAE,GAAG,EAAE,CAAC;AAChB,QAAO,CAAC,EAAE,GAAG,EAAE,CAAC;AAChB,QAAO,CAAC,MAAM,GAAG,MAAM,CAAC;AACxB,QAAO,CAAC,IAAI,GAAG,IAAI,CAAC;AACpB,QAAO,CAAC,MAAM,GAAG,MAAM,CAAC;AACxB,QAAO,CAAC,IAAI,GAAG,IAAI,C;;;;;;;;;;;SCvHF,MAAM,GAAN,MAAM;AAAf,UAAS,MAAM,CAAC,MAAM,EAAC;AACvB,SAAI,MAAM,IAAI,IAAI,EAAE;AAChB,eAAM,GAAG,IAAI,MAAM,EAAE,CAAC;MACzB,CAAC;AACF,WAAM,CAAC,IAAI,GAAG,UAAS,MAAM,EAAC;AAC1B,aAAI,IAAI,GAAG,SAAP,IAAI,CAAY,KAAK,EAAC;AACtB,iBAAI,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;AACxB,iBAAI,EAAE,GAAI,MAAM,CAAC,GAAG,EAAC,KAAK,CAAC,CAAC;AAC5B,oBAAO,EAAE,CAAC;UACb;AACD,eAAM,CAAC,IAAI,CAAC,CAAC;AACb,gBAAO,IAAI,CAAC;MACf,CAAC;AACF,WAAM,CAAC,IAAI,GAAG,UAAS,MAAM,EAAC;AAC1B,aAAI,IAAI,GAAG,SAAP,IAAI,CAAY,KAAK,EAAC;AACtB,mBAAM,CAAC,KAAK,CAAC,CAAC;AACd,oBAAO,MAAM,CAAC,KAAK,CAAC,CAAC;UACxB,CAAC;AACF,eAAM,CAAC,IAAI,CAAC,CAAC;AACb,gBAAO,IAAI,CAAC;MACf,CAAC;AACF,WAAM,CAAC,IAAI,GAAG,UAAS,IAAI,EAAC;AACxB,aAAI,IAAI,GAAG,SAAP,IAAI,CAAY,KAAK,EAAC;AACtB,iBAAI,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;AACxB,iBAAI,CAAC,KAAK,CAAC,CAAC;AACZ,oBAAO,GAAG,CAAC;UACd,CAAC;AACF,eAAM,CAAC,IAAI,CAAC,CAAC;AACb,gBAAO,IAAI,CAAC;MACf,CAAC;AACF,YAAO,MAAM,CAAC;;;;;;;;;AC/BtB,QAAO,CAAC,MAAM,GAAG,UAAU,MAAM,EAAE,EAElC,C;;;;;;;;;;;;ACGD,KAAI,OAAO,GAAG,SAAV,OAAO,CAAY,CAAC,EAAE;AACtB,SAAI,GAAG,GAAG,SAAN,GAAG,CAAY,KAAK,EAAC;AACrB,aAAI,MAAM,CAAC;AACX,aAAI,KAAK,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;AACxB,aAAI,IAAI,GAAG,KAAK,CAAC,KAAK,EAAE,CAAC;AACzB,aAAG;AACC,mBAAM,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC;UACrB,CAAC,OAAO,GAAG,EAAC;AACT,kBAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;AACrB,mBAAM,GAAG,CAAC;UACb;AACD,cAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AACnB,gBAAO,MAAM,CAAC;MACjB,CAAC;AACF,iBAlBK,MAAM,EAkBJ,GAAG,CAAC,CAAC;AACZ,YAAO,GAAG,CAAC;EACd;;AAGD,KAAI,OAAO,GAAG,SAAV,OAAO,CAAY,QAAQ,EAAE,KAAK,EAAE,CAAC,EAAE;AACvC,SAAI,GAAG,GAAG,SAAN,GAAG,CAAY,KAAK,EAAC;AACrB,iBAAQ,CAAC,KAAK,CAAC,CAAC;AAChB,aAAI,MAAM,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC;AACtB,cAAK,CAAC,KAAK,CAAC,CAAC;AACb,gBAAO,MAAM,CAAC;MACjB,CAAC;AACF,iBA9BK,MAAM,EA8BJ,GAAG,CAAC,CAAC;AACZ,YAAO,GAAG,CAAC;EACd;;;AAGD,KAAI,MAAM,GAAG,SAAT,MAAM,CAAY,EAAE,EAAC,EAAE,EAAE;AACzB,SAAI,GAAG,GAAG,SAAN,GAAG,CAAa,KAAK,EAAE;;AAEvB,aAAI,OAAO,CAAC;AACZ,aAAG;AACC,oBAAO,GAAG,EAAE,CAAC,KAAK,CAAC,CAAC;UACvB,QAAM,GAAG,EAAC;AACP,iBAAI,OAAO,GAAG,EAAE,CAAC,KAAK,CAAC,CAAC;AACxB,oBAAO,OAAO,CAAC;UAClB;AACD,gBAAO,OAAO,CAAC;MAClB,CAAC;AACF,QAAG,CAAC,EAAE,GAAG,UAAS,EAAE,EAAC;AACjB,gBAAO,MAAM,CAAC,MAAM,CAAC,EAAE,EAAC,EAAE,CAAC,EAAC,EAAE,CAAC,CAAC;MACnC,CAAC;AACF,iBAlDK,MAAM,EAkDJ,GAAG,CAAC,CAAC;AACZ,YAAO,GAAG,CAAC;EACd;;AAGD,KAAI,SAAS,GAAG,SAAZ,SAAS,CAAY,CAAC,EAAC,WAAW,EAAE;AACpC,SAAI,GAAG,GAAG,SAAN,GAAG,CAAY,KAAK,EAAC;AACrB,aAAI,EAAE,GAAG,MAAM,CAAC,CAAC,EAAC,MA1DjB,IAAI,CA0DkB,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;AAC1C,gBAAO,EAAE,CAAC,KAAK,CAAC,CAAC;MACpB,CAAC;AACF,iBA5DK,MAAM,EA4DJ,GAAG,CAAC,CAAC;AACZ,YAAO,GAAG,CAAC;EACd;;AAGD,KAAI,MAAM,GAAG,SAAT,MAAM,GAAc;AACpB,SAAI,OAAO,GAAG,SAAS,CAAC;AACxB,SAAI,GAAG,GAAG,SAAN,GAAG,CAAY,KAAK,EAAC;AACrB,aAAI,MAAM,GAAG,IAAI,CAAC;AAClB,cAAI,IAAI,KAAK,IAAI,OAAO,EAAC;AACrB,iBAAG;AACC,uBAAM,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC;AAC/B,uBAAM;cACT,QAAM,GAAG,EAAC;AACP,0BAAS;cACZ;UACJ;AACD,aAAI,MAAM,IAAI,IAAI,EAAE;AAChB,iBAAI,GAAG,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC;AACpB,gBAAG,CAAC,GAAG,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;AACtB,mBAAM,GAAG,CAAC;UACb;AACD,gBAAO,MAAM,CAAC;MACjB,CAAC;AACF,iBApFK,MAAM,EAoFJ,GAAG,CAAC,CAAC;AACZ,YAAO,GAAG,CAAC;EACd,CAAC;;AAGF,KAAI,IAAI,GAAG,SAAP,IAAI,CAAY,CAAC,EAAE;AACnB,SAAI,GAAG,GAAG,SAAN,GAAG,CAAY,KAAK,EAAC;AACrB,aAAI,EAAE,GAAG,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAC,MA5FjC,IAAI,CA4FkC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACvD,aAAI,EAAE,GAAG,EAAE,CAAC,KAAK,CAAC,CAAC;AACnB,gBAAO,EAAE,CAAC;MACb,CAAC;AACF,iBA/FK,MAAM,EA+FJ,GAAG,CAAC,CAAC;AACZ,YAAO,GAAG,CAAC;EACd,CAAC;;AAGF,KAAI,KAAK,GAAG,SAAR,KAAK,CAAY,CAAC,EAAE;;AAEpB,SAAI,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,UAAS,CAAC,EAAC,KAAK,EAAC;AAC9B,aAAI,GAAG,GAAG,IAAI,KAAK,EAAE,CAAC;AACtB,YAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACZ,gBAAM,IAAI,EACV;AACI,iBAAI,EAAE,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;AACpB,iBAAG;AACC,qBAAI,GAAG,GAAG,EAAE,CAAC,KAAK,CAAC,CAAC;AACpB,oBAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;cACjB,QAAM,GAAG,EAAC;AACP,wBAAO,GAAG,CAAC;cACd;UACJ;AACD,gBAAO,GAAG,CAAC;MACd,CAAC,CAAC;AACH,iBArHK,MAAM,EAqHJ,GAAG,CAAC,CAAC;AACZ,YAAO,GAAG,CAAC;EACd,CAAC;;AAIF,KAAI,QAAQ,GAAG,SAAX,QAAQ,CAAY,MAAM,EAAC,GAAG,EAAE;AAChC,SAAI,GAAG,GAAG,SAAN,GAAG,CAAY,KAAK,EAAC;AACrB,aAAI,EAAE,GAAG,IAAI,KAAK,EAAE,CAAC;AACrB,aAAI,CAAC,GAAG,OAAO,CAAC,GAAG,CAAC,CAAC;AACrB,gBAAO,IAAI,EAAE;AACT,iBAAG;AACC,kBAAC,CAAC,KAAK,CAAC;AACR,wBAAO,EAAE;cACZ,CAAC,OAAO,GAAG,EAAC;AACT,mBAAE,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;cACzB,CAAC;UACL;MACJ,CAAC;AACF,iBAxIK,MAAM,EAwIJ,GAAG,CAAC,CAAC;AACZ,YAAO,GAAG,CAAC;EACd,CAAC;;AAEF,KAAI,KAAK,GAAG,SAAR,KAAK,CAAY,CAAC,EAAE;AACpB,SAAI,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,UAAS,CAAC,EAAC,KAAK,EAAC;AAC9B,aAAI,GAAG,GAAG,IAAI,KAAK,EAAE,CAAC;AACtB,gBAAM,IAAI,EACV;AACI,iBAAG;AACC,qBAAI,GAAG,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC;cACtB,QAAM,GAAG,EAAC;AACP,wBAAO;cACV;UACJ;MACJ,CAAC,CAAC;AACH,iBAxJK,MAAM,EAwJJ,GAAG,CAAC,CAAC;AACZ,YAAO,GAAG,CAAC;EACd,CAAC;;AAGF,KAAI,IAAI,GAAG,SAAP,IAAI,CAAY,CAAC,EAAE;AACnB,SAAI,GAAG,GAAG,SAAN,GAAG,CAAY,KAAK,EAAC;AACrB,aAAI,EAAE,GAAG,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,EAAC,MAhKjC,IAAI,CAgKkC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACvD,aAAI,EAAE,GAAG,EAAE,CAAC,KAAK,CAAC,CAAC;AACnB,gBAAO,EAAE,CAAC;MACb,CAAC;AACF,iBAnKK,MAAM,EAmKJ,GAAG,CAAC,CAAC;AACZ,YAAO,GAAG,CAAC;EACd,CAAC;;AAGF,KAAI,GAAG,GAAG,SAAN,GAAG,CAAY,CAAC,EAAE,CAAC,EAAE;AACrB,SAAI,GAAG,GAAG,SAAN,GAAG,CAAY,KAAK,EAAC;AACrB,aAAI,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,MA3K/B,IAAI,CA2KgC,IAAI,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACzD,aAAI,EAAE,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;AACvB,gBAAO,EAAE,CAAC;MACb,CAAC;AACF,iBA9KK,MAAM,EA8KJ,GAAG,CAAC,CAAC;AACZ,YAAO,GAAG,CAAC;EACd,CAAC;;AAGF,KAAI,IAAI,GAAG,SAAP,IAAI,CAAY,CAAC,EAAE,CAAC,EAAE;AACtB,SAAI,GAAG,GAAG,SAAN,GAAG,CAAY,KAAK,EAAC;AACrB,aAAI,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,UAAS,CAAC,EAAC,KAAK,EAAC;AACjC,iBAAI,IAAI,GAAG,IAAI,KAAK,EAAE,CAAC;AACvB,iBAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACb,iBAAI,EAAE,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;AAC7C,oBAAO,EAAE,CAAC;UACb,CAAC,CAAC;AACH,aAAI,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;AAC3B,gBAAO,MAAM,CAAC;MACjB,CAAC;AACF,iBA9LK,MAAM,EA8LJ,GAAG,CAAC,CAAC;AACZ,YAAO,GAAG,CAAC;EACd,CAAC;;AAGF,QAAO,CAAC,OAAO,GAAG,OAAO,CAAC;AAC1B,QAAO,CAAC,SAAS,GAAI,SAAS,CAAC;AAC/B,QAAO,CAAC,MAAM,GAAG,MAAM,CAAC;AACxB,QAAO,CAAC,MAAM,GAAG,MAAM,CAAC;AACxB,QAAO,CAAC,OAAO,GAAG,OAAO,CAAC;AAC1B,QAAO,CAAC,IAAI,GAAG,IAAI,CAAC;AACpB,QAAO,CAAC,KAAK,GAAG,KAAK,CAAC;AACtB,QAAO,CAAC,QAAQ,GAAG,QAAQ,CAAC;AAC5B,QAAO,CAAC,IAAI,GAAG,IAAI,CAAC;AACpB,QAAO,CAAC,KAAK,GAAG,KAAK,CAAC;AACtB,QAAO,CAAC,GAAG,GAAG,GAAG,CAAC;AAClB,QAAO,CAAC,IAAI,GAAG,IAAI,C;;;;;;;;;;;;;;;;KC9ME,MAAM;AACvB,cADiB,MAAM,CACV,EAAE,EAAC;+BADC,MAAM;;AAEnB,aAAI,CAAC,EAAE,GAAG,EAAE,CAAC;AACb,aAAI,CAAC,SAAS,GAAG,CAAC,CAAC;AACnB,aAAI,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;MACnB;;kBALgB,MAAM;;gCAOjB;AACF,iBAAI,IAAI,CAAC;AACT,iBAAI,IAAI,CAAC,SAAS,IAAI,CAAC,IAAI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,MAAM,EAAE;AACxD,qBAAI,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAC/B,qBAAI,CAAC,SAAS,EAAE,CAAC;cACpB,MAAK;AACF,qBAAI,GAAG,IAAI,CAAC;cACf;;AAED,oBAAO,IAAI,CAAC;UACf;;;+BAEI;AACD,oBAAO,IAAI,CAAC,SAAS,CAAC;UACzB;;;gCAEO,IAAI,EAAE;AACV,iBAAI,IAAI,CAAC,SAAS,IAAI,CAAC,IAAI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,MAAM,EAAE;AACxD,qBAAI,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACnC,qBAAI,IAAI,CAAC,IAAI,CAAC,EAAE;AACZ,4BAAO,IAAI,CAAC;kBACf,MAAK;AACF,2BAAM,IAAI,KAAK,CAAC,kBAAkB,CAAC,CAAC;kBACvC;cACJ,MAAM;AACH,wBAAO,CAAC,CAAC,CAAC;cACb;UACJ;;;gCAEO,EAAE,EAAE;AACR,iBAAI,EAAE,IAAI,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC,MAAM,EAAE;AAChC,qBAAI,CAAC,SAAS,GAAG,EAAE,CAAC;AACpB,wBAAO,IAAI,CAAC;cACf,MAAM;AACH,wBAAO,KAAK,CAAC;cAChB;UACJ;;;iCAEM;AACH,iBAAI,QAAQ,GAAG,IAAI,CAAC,SAAS;AAC7B,iBAAI,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC,EAAC;AACjB,qBAAI,CAAC,KAAK,GAAE,IAAI,CAAC,SAAS;cAC7B;AACD,oBAAO,QAAQ,CAAC;UACnB;;;gCAEM,UAAU,EAAC;AACd,iBAAI,IAAI,CAAC,KAAK,IAAI,UAAU,EAAE;AAC1B,qBAAI,CAAC,KAAK,GAAG,CAAC,CAAC;cAClB;UACJ;;;kCAEQ,UAAU,EAAC;AAChB,iBAAI,CAAC,SAAS,GAAG,UAAU;AAC3B,iBAAG,IAAI,CAAC,KAAK,IAAI,UAAU,EAAC;AACxB,qBAAI,CAAC,KAAK,GAAG,CAAC,CAAC;cAClB;UACJ;;;YAhEgB,MAAM;;;mBAAN,MAAM;;;;;;;;;ACD3B,KAAI,IAAI,GAAG,mBAAO,CAAC,CAAW,CAAC,CAAC;AAChC,KAAI,UAAU,GAAG,mBAAO,CAAC,CAAiB,CAAC,CAAC;AAC5C,KAAI,IAAI,GAAG,mBAAO,CAAC,CAAW,CAAC;AAC/B,KAAI,MAAM,GAAG,mBAAO,CAAC,CAAa,CAAC,CAAC;;AAEpC,KAAI,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;AACjB,KAAI,MAAM,GAAG,UAAU,CAAC,MAAM,CAAC;AAC/B,KAAI,OAAO,GAAG,UAAU,CAAC,OAAO,CAAC;AACjC,KAAI,EAAE,GAAG,IAAI,CAAC,EAAE,CAAC;;AAEjB,KAAI,MAAM,GAAG,SAAT,MAAM,CAAY,MAAM,EAAC;AACzB,SAAI,GAAG,GAAG,SAAN,GAAG,CAAY,KAAK,EAAC;AACrB,aAAI,GAAG,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC;AACvB,cAAI,IAAI,KAAK,IAAI,MAAM,EAAC;AACpB,iBAAG,MAAM,CAAC,KAAK,CAAC,KAAK,GAAG,EAAC;AACrB,wBAAO,GAAG,CAAC;cACd;UACJ,CAAC;AACF,aAAI,GAAG,GAAG,KAAK,CAAC,gBAAgB,GAAG,MAAM,CAAC,CAAC;AAC3C,YAAG,CAAC,GAAG,GAAG,KAAK,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;AAC1B,eAAM,GAAG,CAAC;MACb,CAAC;AACF,WAAM,CAAC,GAAG,CAAC,CAAC;AACZ,YAAO,GAAG,CAAC;EACd,CAAC;;AAEF,KAAI,QAAQ,GAAG,SAAX,QAAQ,CAAY,MAAM,EAAC;AAC3B,SAAI,GAAG,GAAG,SAAN,GAAG,CAAY,KAAK,EAAC;AACrB,aAAI,GAAG,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC;AACvB,cAAI,IAAI,CAAC,IAAI,MAAM,EAAC;AAChB,iBAAG,CAAC,KAAK,GAAG,EAAC;AACT,qBAAI,GAAG,GAAG,KAAK,CAAC,eAAe,GAAG,MAAM,CAAC,CAAC;AAC1C,oBAAG,CAAC,GAAG,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;AACtB,uBAAM,GAAG,CAAC;cACb;UACJ;AACD,gBAAO,GAAG,CAAC;MACd;AACD,WAAM,CAAC,GAAG,CAAC,CAAC;EACf,CAAC;;AAEF,KAAI,KAAK,GAAG,SAAR,KAAK,GAAc;AACnB,SAAI,GAAG,GAAG,MAAM,CAAC,YAAY,CAAC,CAAC;AAC/B,YAAO,GAAG,CAAC;EACd,CAAC;;AAEF,KAAI,MAAM,GAAG,SAAT,MAAM,GAAa;AACnB,SAAI,GAAG,GAAG,MAAM,CAAC,4BAA4B,CAAC,CAAC;AAC/C,YAAO,GAAG,CAAC;EACd,CAAC;;AAEF,KAAI,WAAW,GAAG,SAAd,WAAW,GAAa;AACxB,SAAI,GAAG,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC,EAAC,MAAM,EAAE,CAAC,CAAC;AAC5C,YAAO,GAAG,CAAC;EACd,CAAC;;AAEF,KAAI,MAAM,GAAG,SAAT,MAAM,CAAY,GAAG,EAAC;AACtB,SAAI,GAAG,GAAG,SAAN,GAAG,CAAY,KAAK,EAAC;AACrB,aAAI,GAAG,GAAG,IAAI,KAAK,EAAE,CAAC;AACtB,cAAI,IAAI,KAAK,IAAI,GAAG,EAAC;AACjB,iBAAI,GAAG,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC;AACvB,gBAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACd,iBAAI,GAAG,IAAI,GAAG,CAAC,KAAK,CAAC,IAAI,KAAK,IAAI,CAAC,EAAE;AACjC,qBAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;AACjC,qBAAI,CAAC,KAAK,CAAC,CAAC;cACf,CAAC;UACL;AACD,gBAAO,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;MACvB,CAAC;AACF,WAAM,CAAC,GAAG,CAAC,CAAC;AACZ,YAAO,GAAG,CAAC;EACd,CAAC;;AAGF,KAAI,IAAI,GAAG,SAAP,IAAI,GAAa;AACjB,SAAI,GAAG,GAAG,SAAN,GAAG,CAAY,KAAK,EAAC;AACrB,aAAI,EAAE,GAAG,UAAU,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC,IAAI,CAAC,UAAS,GAAG,EAAC,KAAK,EAAC;AACvD,iBAAI,EAAE,GAAG,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;AAC1C,eAAE,CAAC,KAAK,CAAC,CAAC;AACV,oBAAO,GAAG,CAAC;UACd,CAAC,CAAC;AACH,aAAI,EAAE,CAAC;AACP,aAAG;AACC,eAAE,GAAG,EAAE,CAAC,KAAK,CAAC;UACjB,QAAM,GAAG,EAAC;AACP,iBAAI,GAAG,GAAG,KAAK,CAAC,YAAY,CAAC,CAAC;AAC9B,gBAAG,CAAC,GAAG,GAAG,KAAK,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;AAC1B,mBAAM,GAAG,CAAC;UACb;AACD,gBAAO,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;MACtB,CAAC;AACF,WAAM,CAAC,GAAG,CAAC,CAAC;AACZ,YAAO,GAAG,CAAC;EACd,CAAC;;AAGF,UAAS,OAAO,CAAC,KAAK,EAAE;AACpB,SAAI,GAAG,GAAG,UAAU,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;AACtC,SAAI,GAAG,CAAC;AACR,SAAG;AACC,YAAG,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;MACpB,QAAM,GAAG,EAAC;AACP,gBAAO,EAAE,CAAC;MACb;AACD,YAAO,GAAG,CAAC;EACd;;AAID,KAAI,GAAG,GAAG,SAAN,GAAG,GAAa;AAChB,SAAI,GAAG,GAAG,SAAN,GAAG,CAAY,KAAK,EAAC;AACrB,aAAI,GAAG,GAAG,IAAI,KAAK,EAAE,CAAC;AACtB,YAAG,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;AACzB,aAAI,EAAE,GAAG,IAAI,EAAE,CAAC;AAChB,aAAI,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;AAC/B,gBAAO,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;MACtB,CAAC;AACF,WAAM,CAAC,GAAG,CAAC,CAAC;AACZ,YAAO,GAAG,CAAC;EACd,CAAC;;AAGF,KAAI,MAAM,GAAG,SAAT,MAAM,GAAa;AACnB,SAAI,GAAG,GAAG,SAAN,GAAG,CAAa,KAAK,EAAE;AACvB,aAAI,OAAO,GAAG,UAAU,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;AACvC,aAAI,GAAG,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC;AAClB,aAAI,IAAI,GAAG,IAAI,EAAE,CAAC;AAClB,aAAI,GAAG,GAAG,IAAI,KAAK,EAAE,CAAC;AACtB,YAAG,GAAG,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;AACjC,aAAG,GAAG,CAAC,MAAM,IAAI,CAAC,EACd,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAClB,YAAG,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;AACrB,YAAG,GAAG,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;AAC9B,gBAAO,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;MACvB,CAAC;AACF,WAAM,CAAC,GAAG,CAAC,CAAC;AACZ,YAAO,GAAG,CAAC;EACd,CAAC;;AAGF,KAAI,KAAK,GAAG,SAAR,KAAK,GAAa;AAClB,SAAI,GAAG,GAAG,SAAN,GAAG,CAAY,KAAK,EAAC;AACrB,aAAI,GAAG,GAAG,IAAI,KAAK,EAAE,CAAC;AACtB,YAAG,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;AACzB,aAAI,EAAE,GAAG,MAAM,EAAE,CAAC;AAClB,aAAI,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;AAC/B,gBAAO,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;MACtB,CAAC;AACF,WAAM,CAAC,GAAG,CAAC,CAAC;AACZ,YAAO,GAAG,CAAC;EACd,CAAC;;AAGF,KAAI,OAAO,GAAG,SAAV,OAAO,GAAa;AACpB,SAAI,GAAG,GAAG,SAAN,GAAG,CAAY,KAAK,EAAC;AACrB,aAAI,EAAE,GAAE,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC;AACjD,gBAAO,EAAE,CAAC,KAAK,CAAC,CAAC;MACpB;AACD,WAAM,CAAC,GAAG,CAAC,CAAC;AACZ,YAAO,GAAG,CAAC;EACd,CAAC;;AAEF,KAAI,UAAU,GAAG,SAAb,UAAU,GAAa;AACvB,SAAI,EAAE,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;AACvB,YAAO,EAAE,CAAC;EACb,CAAC;;AAEF,KAAI,KAAK,GAAG,SAAR,KAAK,GAAa;AAClB,SAAI,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC;AACjB,YAAO,EAAE,CAAC;EACb,CAAC;;AAGF,QAAO,CAAC,MAAM,GAAG,MAAM,CAAC;AACxB,QAAO,CAAC,QAAQ,GAAG,QAAQ,CAAC;AAC5B,QAAO,CAAC,KAAK,GAAG,KAAK,CAAC;AACtB,QAAO,CAAC,MAAM,GAAG,MAAM,CAAC;AACxB,QAAO,CAAC,WAAW,GAAG,WAAW,CAAC;AAClC,QAAO,CAAC,MAAM,GAAG,MAAM,CAAC;AACxB,QAAO,CAAC,IAAI,GAAG,IAAI,CAAC;AACpB,QAAO,CAAC,GAAG,GAAG,GAAG,CAAC;AAClB,QAAO,CAAC,MAAM,GAAG,MAAM,CAAC;AACxB,QAAO,CAAC,KAAK,GAAG,KAAK,CAAC;AACtB,QAAO,CAAC,OAAO,GAAG,OAAO,CAAC;AAC1B,QAAO,CAAC,UAAU,GAAG,UAAU,CAAC;AAChC,QAAO,CAAC,KAAK,GAAG,KAAK,C","file":"parsec.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"parsec\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"parsec\"] = factory();\n\telse\n\t\troot[\"parsec\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 6923257709762185bd35\n **/","\nimport * as atom from './atom';\nimport * as combinator from './combinator';\nimport states from './state';\nimport * as parsec from './parsec';\nimport * as model from './model';\nimport * as text from './text';\n\n\nexport default class jsparsec {\n\n\tconstructor() {\n\t\tthis._name = 'jsparsec';\n\t\tthis._parsec = parsec;\n\t\tthis._model = model;\n\t\tthis._text = text;\n\t\tthis._combinator = combinator;\n\t\tthis._atom = atom;\n\t}\n\tget name() {\n\t\treturn this._name;\n\t}\n\n\tparsec(){\n\t\treturn this._parsec;\n\t}\n\n\tmodel(){\n\t\treturn this._model;\n\t}\n\n\ttext(){\n\t\treturn this._text;\n\t}\n\n\tstate(str){\n\t\treturn new states(str);\n\t}\n\n\tcombinator(){\n\t\treturn this._combinator;\n\t}\n\n\tatom(){\n\t\treturn this._atom;\n\t}\n\n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/index.js\n **/","var parsec = require('./parsec.js');\nvar Result = require('./model.js').Result;\nvar one = function() {\n    var fun = function(state){\n        var result = state.next();\n        if (result instanceof Error)\n            throw null;\n        else {\n            return new Result(result);\n        }\n    };\n    parsec(fun);\n    return fun;\n};\n\n\nvar eq = function(x) {\n    var fun = function(state){\n        if (state.next() === x) {\n            return x;\n        }else {\n            var err = Error(\"expecting a value equal\" + x);\n            err.pos = state.pos() - 1;\n            throw err;\n        }\n    }\n    parsec(fun);\n    return fun;\n};\n\n\n\nvar ne = function(x) {\n    var fun = function(state){\n        var data = state.next()\n        if (data === x) {\n            var err = Error('expecting a value not equal' + x);\n            err.pos = state.pos() - 1;\n            throw err;\n        }else{\n            return data\n        }\n    };\n    parsec(fun);\n    return fun;\n};\n\nvar oneOf = function() {\n    var states = arguments;\n    var fun = function(state){\n        var data = state.next();\n        for(var index in states){\n            if (states[index] === data) {\n                return data;\n            }\n        }\n        var err = Error('expect one of' + states);\n        err.pos = state.pos();\n        throw err;\n    };\n    parsec(fun);\n    return fun;\n};\n\n\n\nvar noneOf = function() {\n    var states = arguments;\n    var fun = function(state){\n        var data = state.next();\n        for(var index in states){\n            if (states[index] === data) {\n                var err = Error('expect none of ' + states);\n                err.pos = state.pos;\n                throw err;\n            }\n        }\n        return data;\n    };\n    parsec(fun);\n    return fun;\n};\n\nvar pack = function(element) {\n    var fun = function() {\n        return element;\n    };\n    parsec(fun);\n    return fun;\n};\n\nvar fail = function(description) {\n    var fun = function(state){\n        var err = Error(description);\n        err.pos = state.pos() - 1;\n        throw err;\n    }\n    parsec(fun);\n    return fun;\n};\n\n\n\n\n\n\n// space : \\t  || '  ' || \\n\n\n// \\r \\ n\n\n\n// 上面应该直接返回字符串\n\nexports.one = one;\nexports.oneOf = oneOf;\nexports.eq = eq;\nexports.ne = ne;\nexports.noneOf = noneOf;\nexports.pack = pack;\nexports.Result = Result;\nexports.fail = fail;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/atom.js\n **/"," \n export function parsec(parser){\n        if (parser == null) {\n            parser = new Object();\n        };\n        parser.bind = function(handle){\n            var item = function(state){\n                var val = parser(state);\n                var re =  handle(val,state);\n                return re;\n            }\n            parsec(item);\n            return item;\n        };\n        parser.then = function(handle){\n            var item = function(state){\n                parser(state);\n                return handle(state);\n            };\n            parsec(item);\n            return item;\n        };\n        parser.over = function(tail){\n            var item = function(state){\n                var val = parser(state);\n                tail(state);\n                return val;\n            };\n            parsec(item);\n            return item;\n        };\n        return parser;\n    }\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/parsec.js\n **/","exports.Result = function (result) {\n    \n}\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/model.js\n **/","import { atom } from './atom';\nimport { parsec } from './parsec';\n\n\n\nvar attempt = function(p) {\n    var fun = function(state){\n        var result;\n        var index = state.pos();\n        var tran = state.begin();\n        try{\n            result = p(state);\n        } catch (err){\n            state.rollBack(tran);\n            throw err;\n        }\n        state.commit(tran);\n        return result;\n    };\n    parsec(fun);\n    return fun;\n}\n\n\nvar between = function(parseren, close, p) {\n    var fun = function(state){\n        parseren(state);\n        var result = p(state);\n        close(state);\n        return result;\n    };\n    parsec(fun);\n    return fun;\n}\n\n//either.or();\nvar either = function(p1,p2) {\n    var fun = function (state) {\n        // this.or = xxxxx 这样写外面就拿不到 or 这个属性?\n        var result1;\n        try{\n            result1 = p1(state);\n        }catch(err){\n            var result2 = p2(state);\n            return result2;\n        }\n        return result1;\n    };\n    fun.or = function(p3){\n        return either(either(p1,p2),p3);\n    };\n    parsec(fun);\n    return fun;\n}\n\n\nvar otherwise = function(p,description) {\n    var fun = function(state){\n        var ei = either(p,atom.fail(description));\n        return ei(state);\n    };\n    parsec(fun);\n    return fun;\n}\n\n\nvar choice = function (){\n    var parsers = arguments;\n    var fun = function(state){\n        var result = null;\n        for(var index in parsers){\n            try{\n                result = parsers[index](state);\n                break;\n            }catch(err){\n                continue;\n            }\n        }\n        if (result == null) {\n            var err = Error('');\n            err.pos = state.pos();\n            throw err;\n        }\n        return result;\n    };\n    parsec(fun);\n    return fun;\n};\n\n\nvar many = function(p) {\n    var fun = function(state){\n        var ma = either(many1(attempt(p)),atom.pack(Array(0)));\n        var re = ma(state);\n        return re;\n    };\n    parsec(fun);\n    return fun;\n};\n\n\nvar many1 = function(p) {\n    //这里P执行出错了 就直接抛出去\n    var fun = p.bind(function(x,state){\n        var arr = new Array();\n        arr.push(x);\n        while(true)\n        {\n            var at = attempt(p);\n            try{\n                var val = at(state);\n                arr.push(val);\n            }catch(err){\n                return arr;\n            }\n        }\n        return arr;\n    });\n    parsec(fun);\n    return fun;\n};\n\n\n\nvar manyTill = function(parser,end) {\n    var fun = function(state){\n        var re = new Array();\n        var e = attempt(end);\n        while (true) {\n            try{\n                e(state)\n                return re\n            } catch (err){\n                re.push(parser(state))\n            };\n        }\n    };\n    parsec(fun);\n    return fun;\n};\n\nvar skip1 = function(p) {\n    var fun = p.bind(function(x,state){\n        var arr = new Array();\n        while(true)\n        {\n            try{\n                var val = p(state);\n            }catch(err){\n                return;\n            }\n        }\n    });\n    parsec(fun);\n    return fun;\n};\n\n\nvar skip = function(p) {\n    var fun = function(state){\n        var sk = either(skip1(attempt(p)),atom.pack(Array(0)));\n        var re = sk(state);\n        return re;\n    };\n    parsec(fun);\n    return fun;\n};\n\n\nvar sep = function(p, s) {\n    var fun = function(state){\n        var parser = either(sep1(p, s), atom.pack(new Array(0)));\n        var re = parser(state);\n        return re;\n    };\n    parsec(fun);\n    return fun;\n};\n\n\nvar sep1 = function(p, s) {\n    var fun = function(state){\n        var parser = p.bind(function(x,state){\n            var temp = new Array();\n            temp.push(x);\n            var re = temp.concat(many(s.then(p))(state));\n            return re;\n        });\n        var result = parser(state);\n        return result;\n    };\n    parsec(fun);\n    return fun;\n};\n\n\nexports.attempt = attempt;\nexports.otherwise  = otherwise;\nexports.choice = choice;\nexports.either = either;\nexports.between = between;\nexports.many = many;\nexports.many1 = many1;\nexports.manyTill = manyTill;\nexports.skip = skip;\nexports.skip1 = skip1;\nexports.sep = sep;\nexports.sep1 = sep1;\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/combinator.js\n **/","\nexport default class states{\n    constructor (st){\n        this.st = st;\n        this._position = 0;\n        this._tran = -1;\n    }\n\n    next(){\n        var item;\n        if (this._position >= 0 && this._position < this.st.length) {\n            item = this.st[this._position];\n            this._position++;\n        }else {\n            item = null;\n        }\n\n        return item; \n    }\n\n    pos(){\n        return this._position;\n    }\n    \n    nextBy (pred) {\n        if (this._position >= 0 && this._position < this.st.length) {\n            var item = this.st[this._position];\n            if (pred(item)) {\n                return item;\n            } else{\n                throw new Error(\"predicate failed\");\n            }\n        } else {\n            return -1;\n        }\n    }\n\n    seekTo (to) {\n        if (to >= 0 && to < this.st.length) {\n            this._position = to;\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    begin(){\n        var theindex = this._position\n        if (this._tran == -1){\n            this._tran =this._position\n        }\n        return theindex;\n    }\n\n    commit(tranNumber){\n        if (this._tran == tranNumber) {\n            this._tran = -1\n        }\n    }\n\n    rollBack(tranNumber){\n        this._position = tranNumber\n        if(this._tran == tranNumber){\n            this._tran = -1\n        }\n    }\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/state.js\n **/","var atom = require('./atom.js');\nvar combinator = require('./combinator.js');\nvar atom = require('./atom.js')\nvar parsec = require('./parsec.js');\n\nvar eq = atom.eq;\nvar either = combinator.either;\nvar attempt = combinator.attempt;\nvar ne = atom.ne;\n\nvar charIn = function(string){\n    var fun = function(state){\n        var val = state.next();\n        for(var index in string){\n            if(string[index] === val){\n                return val;\n            }\n        };\n        var err = Error('not a char of ' + string);\n        err.pos = state.pos() - 1;\n        throw err;\n    };\n    parsec(fun);\n    return fun;\n};\n\nvar charNone = function(string){\n    var fun = function(state){\n        var val = state.next();\n        for(var c in string){\n            if(c === val){\n                var err = Error('is a char of ' + string);\n                err.pos = state.pos();\n                throw err;\n            }\n        }\n        return val;\n    }\n    parsec(fun);\n};\n\nvar digit = function() {\n    var fun = charIn('0123456789');\n    return fun;\n};\n\nvar letter = function(){\n    var fun = charIn('abcdefghijklmnopqrstuvwxyz');\n    return fun;\n};\n\nvar alphaNumber = function(){\n    var fun = either(attempt(digit()),letter());\n    return fun;\n};\n\nvar string = function(str){\n    var fun = function(state){\n        var arr = new Array();\n        for(var index in str){\n            var val = state.next();\n            arr.push(val);\n            if (val != str[index] && index == 0) {\n                var fail = atom.fail('not match')\n                fail(state);\n            };\n        }\n        return arr.join('');\n    };\n    parsec(fun);\n    return fun;\n};\n\n\nvar uInt = function(){\n    var fun = function(state){\n        var ma = combinator.many1(digit()).bind(function(arr,state){\n            var at = combinator.attempt(atom.ne('.'));\n            at(state);\n            return arr;\n        });\n        var re;\n        try{\n            re = ma(state)\n        }catch(err){\n            var err = Error('not a uInt');\n            err.pos = state.pos() - 1;\n            throw err;\n        }\n        return re.join('');\n    };\n    parsec(fun);\n    return fun;\n};\n\n\nfunction negtive(state) {\n    var neg = combinator.attempt(eq('-'));\n    var val;\n    try{\n        val = neg(state);\n    }catch(err){\n        return '';\n    }\n    return val;\n}\n\n\n\nvar Int = function(){\n    var fun = function(state){\n        var arr = new Array();\n        arr.push(negtive(state));\n        var ui = uInt();\n        var re = arr.concat(ui(state));\n        return re.join('');\n    };\n    parsec(fun);\n    return fun;\n};\n\n\nvar uFloat = function(){\n    var fun = function (state) {\n        var integer = combinator.many(digit());\n        var pot = eq('.');\n        var deci = uInt();\n        var arr = new Array();\n        arr = arr.concat(integer(state));\n        if(arr.length == 0)\n            arr.push('0');\n        arr.push(pot(state));\n        arr = arr.concat(deci(state));\n        return arr.join('');\n    };\n    parsec(fun);\n    return fun;\n};\n\n\nvar Float = function(){\n    var fun = function(state){\n        var arr = new Array();\n        arr.push(negtive(state));\n        var uf = uFloat();\n        var re = arr.concat(uf(state));\n        return re.join('');\n    };\n    parsec(fun);\n    return fun;\n};\n\n\nvar newLine = function(){\n    var fun = function(state){\n        var ei =either(attempt(eq('\\n')),string('\\r\\n'));\n        return ei(state);\n    }\n    parsec(fun);\n    return fun;\n};\n\nvar whiteSpace = function(){\n    var eq = charIn(' \\t');\n    return eq;\n};\n\nvar space = function(){\n    var ei = eq(' ');\n    return ei;\n};\n\n\nexports.charIn = charIn;\nexports.charNone = charNone;\nexports.digit = digit;\nexports.letter = letter;\nexports.alphaNumber = alphaNumber;\nexports.string = string;\nexports.uInt = uInt;\nexports.Int = Int;\nexports.uFloat = uFloat;\nexports.Float = Float;\nexports.newLine = newLine;\nexports.whiteSpace = whiteSpace;\nexports.space = space;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/text.js\n **/"],"sourceRoot":""}